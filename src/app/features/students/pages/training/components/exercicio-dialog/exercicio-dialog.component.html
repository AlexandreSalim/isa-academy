<mat-dialog-content class="ex-dialog-content">
  <h2 class="dialog-title">{{ isEditMode ? 'Editar exercício' : 'Adicionar exercício' }}</h2>

  <!-- Grupo Muscular -->
  <div class="form-row">
    <div style="display: flex; justify-content: space-between;align-items: center;">
      <label>Grupo</label>
      <span style="cursor: pointer; color: #007bff;" (click)="openDialogMuscleGroups()">+ adicionar grupo</span>
    </div>
    <select class="input-select" (change)="onMuscleGroupChange($event)" [value]="selectedMuscleGroupId || ''">
      <option value="">Selecione um grupo</option>
      @for (muscle of muscleGroups; track muscle) {
        <option [value]="muscle.id">
          {{muscle.name}}
        </option>
      }
    </select>
  </div>

  <!-- Exercício -->
  <div class="form-row">
    <div style="display: flex; justify-content: space-between;align-items: center;">
      <label>Exercício</label>
      <span style="cursor: pointer; color: #007bff;" (click)="openDialogExercises()">+ adicionar exercício</span>
    </div>
    <select class="input-select" [(ngModel)]="selectedExerciseId" name="exercise">
      <option value="">Selecione um exercício</option>
      @for (exercise of exercises; track exercise) {
        <option [value]="exercise.id">
          {{exercise.name}} ({{exercise.muscle_group_name || 'Sem grupo'}})
        </option>
      }
    </select>
  </div>

  <div class="row-two">
    <div class="col">
      <label>Nº de séries</label>
      <input type="number" class="input" [(ngModel)]="data.number_of_sets" name="serie" />
    </div>

    <div class="col">
      <label>Carga</label>
      <div class="input-with-unit">
        <input type="number" class="input" [(ngModel)]="data.weight" name="number_of_sets" />
        <span class="unit">Kg</span>
      </div>
    </div>
  </div>

  <div class="row-two radio-row">
    <div class="radio-col">
      <label class="radio-label">
        <input
          type="radio"
          name="mode"
          [(ngModel)]="selectedMode"
          value="repetitions"
          />
          <span>Repetição</span>
        </label>
        <div class="small-input">
          <input type="number" class="input" [(ngModel)]="data.repetitions" name="repetitions" />
          <span class="x">x</span>
        </div>
      </div>

      <div class="radio-col">
        <label class="radio-label">
          <input
            type="radio"
            name="mode"
            [(ngModel)]="selectedMode"
            value="time"
            />
            <span>Tempo</span>
          </label>
          <div class="small-input">
            <input type="number" class="input" [(ngModel)]="data.time" name="time" />
            <span class="unit-badge">s</span>
          </div>
        </div>
      </div>

      <div class="form-row">
        <label>Observação</label>
        <textarea class="input textarea" [(ngModel)]="data.notes" name="notes"></textarea>
      </div>

      <!-- Remover a linha de excluir do dialog -->
      <!-- <div class="add-more" style="color: red;">Excluir exercício</div> -->

      @if (!isEditMode) {
        <div class="add-more">+ Adicionar exercício</div>
      }

    </mat-dialog-content>

    <mat-dialog-actions align="end" class="ex-dialog-actions">
      <button mat-button class="btn-cancel" (click)="onCancel()">Cancelar</button>
      <button mat-flat-button class="btn-add" (click)="onConfirm()">
        {{ isEditMode ? 'Salvar' : 'Adicionar' }}
      </button>
    </mat-dialog-actions>