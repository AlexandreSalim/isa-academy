function l(e){if(e==null||e==="")return null;let t=Number(String(e).replace(",","."));return Number.isFinite(t)?t:null}function k(e){let t=l(e);return t===null?null:t>3?t/100:t}function P(e){if(!e)return null;let t=new Date(e);if(isNaN(t.getTime()))return null;let n=new Date,a=n.getFullYear()-t.getFullYear(),u=n.getMonth()-t.getMonth();return(u<0||u===0&&n.getDate()<t.getDate())&&a--,a}function E(e,t,n){return n==="M"?1.112-43499e-8*e+55e-8*(e*e)-28826e-8*t:1.097-46971e-8*e+56e-8*(e*e)-12828e-8*t}function I(e,t,n){return n==="M"?1.10938-8267e-7*e+16e-7*(e*e)-2574e-7*t:1.0994921-9929e-7*e+23e-7*(e*e)-1392e-7*t}function _(e){return!e||e<=0?NaN:495/e-450}function $(e,t){let n=l(e?.weight),a=k(e?.height),u=(e?.gender??t?.gender??"").toString().toUpperCase(),g=u.startsWith("F")||u==="FEMININO"||u==="FEMALE"?"F":"M",p=l(e?.age)??null,D=P(t?.date_of_birth),F=p??D??30,r=l(e?.densidade??e?.density??null),o=l(e?.percentual_gordura??e?.fatPercent??null),S={subescapular:l(e?.subscapular),triceps:l(e?.triceps),peitoral:l(e?.chest_skinfold),axilar:l(e?.mid_axillary),suprailiaca:l(e?.suprailiac),abdominal:l(e?.abdominal_skinfold),femural:l(e?.femoral)},x=Object.values(S).filter(s=>s!==null);if((o===null||isNaN(o))&&!r&&x.length>=4){let s=x.reduce((c,i)=>c+i,0);r=E(s,F,g),o=_(r)}if((o===null||isNaN(o))&&!r){let s=[];if(g==="M"){let c=l(e?.chest_skinfold),i=l(e?.abdominal_skinfold),d=l(e?.femoral);s=[c,i,d].filter(m=>m!==null)}else{let c=l(e?.triceps),i=l(e?.suprailiac),d=l(e?.femoral);s=[c,i,d].filter(m=>m!==null)}if(s.length===3){let c=s.reduce((i,d)=>i+d,0);r=I(c,F,g),o=_(r)}}let h=null;n!==null&&a!==null&&a>0&&(h=+(n/(a*a)));let f=o!==null&&!isNaN(o)?+(+o).toFixed(4):null,w=f!==null?`${(+f).toFixed(2)}%`:"\u2014",y=r!==null&&!isNaN(r)?`${r.toFixed(3)} g/cm\xB3`:e?.densidade??"\u2014",N=null,b=null,M="\u2014";return n!==null&&f!==null&&(N=+(n*(1-f/100)),b=+(n-N),M=`${(100-f).toFixed(1)}%`),{peso:n,altura:a,imcVal:h,fatPercentNum:f,fatPercentStr:w,densidadeNum:r??null,densidadeStr:y,leanKg:N,fatKg:b,leanPctStr:M}}export{$ as a};
