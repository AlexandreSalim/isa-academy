import{a as K}from"./chunk-RXANTCD7.js";import{a as J}from"./chunk-TOVHTJNX.js";import{d as E}from"./chunk-4ZJJULEX.js";import"./chunk-4WFVMWDK.js";import"./chunk-6AA45M3Q.js";import"./chunk-ZNPQLLMD.js";import{$b as H,Aa as _,Ab as F,Ba as e,Ca as t,Da as l,Dc as U,F as v,Fb as y,Ha as O,Hb as z,Ja as S,Jb as s,K as C,Kb as V,L as b,Lb as R,Pa as A,Qa as w,Ra as P,Sb as B,Tb as Q,W as M,Wa as i,Ya as D,Zb as G,_b as $,ca as d,eb as T,ec as Y,fb as k,ha as x,jc as g,la as N,ma as h,rb as I,tb as j,va as c,wa as p}from"./chunk-7CCGUGHH.js";import"./chunk-RXU6FXFV.js";import"./chunk-QUJFQN2Y.js";import"./chunk-5ZPGBBWK.js";import"./chunk-QXMKMSGY.js";import"./chunk-NALLYM7I.js";import"./chunk-7FY2OE2O.js";import"./chunk-65BBGSFQ.js";import"./chunk-QQLTGCAV.js";import"./chunk-ALBQWLJW.js";import"./chunk-QNP3ESGV.js";import"./chunk-LH2JMB2Q.js";import"./chunk-FEMRQVRA.js";import"./chunk-KNB6ZRNH.js";import"./chunk-CWORV2KJ.js";import"./chunk-I7UTH7EM.js";import"./chunk-JU35B3CI.js";import"./chunk-42C7ZIID.js";import"./chunk-S3A63TT4.js";import"./chunk-OUUJBBTF.js";import"./chunk-AAAA5EP5.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-DDCYHNBE.js";import"./chunk-CKP3SGE2.js";import"./chunk-UJJLNTQI.js";import{e as q}from"./chunk-JHI3MBHO.js";var te=["formEl"];function ie(n,o){n&1&&(e(0,"small",12),i(1,"*"),t())}function ne(n,o){n&1&&(e(0,"small",12),i(1,"*"),t())}function ae(n,o){n&1&&(e(0,"small",12),i(1,"*"),t())}function re(n,o){n&1&&(e(0,"small",12),i(1,"*"),t())}function oe(n,o){n&1&&(e(0,"small",12),i(1,"*"),t())}function le(n,o){n&1&&(e(0,"small",12),i(1,"*"),t())}function me(n,o){n&1&&(e(0,"small",23),i(1,"*"),t())}function se(n,o){n&1&&(e(0,"small",23),i(1,"*"),t())}function de(n,o){n&1&&(e(0,"small",23),i(1,"*"),t())}function ce(n,o){n&1&&(e(0,"small",33),i(1,"*"),t())}function pe(n,o){n&1&&(e(0,"small",12),i(1,"*"),t())}function ue(n,o){n&1&&(e(0,"small",12),i(1,"*"),t())}function fe(n,o){n&1&&(e(0,"small",12),i(1,"*"),t())}function xe(n,o){n&1&&(e(0,"small",12),i(1,"*"),t())}function ve(n,o){n&1&&(e(0,"small",12),i(1,"*"),t())}function he(n,o){n&1&&(e(0,"small",12),i(1,"*"),t())}function _e(n,o){n&1&&(e(0,"small",12),i(1,"*"),t())}function ge(n,o){n&1&&(e(0,"small",12),i(1,"*"),t())}var W=(()=>{let o=class o{constructor(a,m,r,u,f){this.fb=a,this.route=m,this.navCtrl=r,this.studentsService=u,this.AssessmentDraftService=f,this.evaluationDate=new Date,this.formSubmitted=!1}ngOnInit(){this.studentId=this.route.snapshot.paramMap.get("id"),this.form=this.fb.group({peso:["",s.required],altura:["",s.required],torax:["",s.required],cintura:["",s.required],abdome:["",s.required],quadril:["",s.required],braco_esq:["",s.required],braco_dir:["",s.required],antebraco_esq:["",s.required],antebraco_dir:["",s.required],coxa_esq:["",s.required],coxa_dir:["",s.required],panturrilha_esq:["",s.required],panturrilha_dir:["",s.required],subescapular:["",s.required],triceps:["",s.required],peitoral:["",s.required],axilar:["",s.required],suprailiaca:["",s.required],abdominal:["",s.required],femural:["",s.required],objetivos:["",s.required],evaluationDate:[this.evaluationDate]});let a=this.AssessmentDraftService.getDraftSnapshot();a&&Number(a.studentId)===Number(this.studentId)&&this.applyDraftToForm(a)}applyDraftToForm(a){let m=a.evaluationDate?new Date(a.evaluationDate):this.evaluationDate;this.form.patchValue({peso:a.peso??"",altura:a.altura??"",torax:a.torax??"",cintura:a.cintura??"",abdome:a.abdome??"",quadril:a.quadril??"",braco_esq:a.braco_esq??"",braco_dir:a.braco_dir??"",antebraco_esq:a.antebraco_esq??"",antebraco_dir:a.antebraco_dir??"",coxa_esq:a.coxa_esq??"",coxa_dir:a.coxa_dir??"",panturrilha_esq:a.panturrilha_esq??"",panturrilha_dir:a.panturrilha_dir??"",subescapular:a.subescapular??"",triceps:a.triceps??"",peitoral:a.peitoral??"",axilar:a.axilar??"",suprailiaca:a.suprailiaca??"",abdominal:a.abdominal??"",femural:a.femural??"",objetivos:a.objetivos??"",evaluationDate:m}),this.formSubmitted=!1}cancel(){if(this.studentId){this.navCtrl.navigateBack(["/students/information",this.studentId]);return}this.navCtrl.back()}scrollToFirstInvalid(){return q(this,null,function*(){yield new Promise(r=>setTimeout(r,50));let a=this.formEl?.nativeElement,m=a?a.querySelector(".ng-invalid"):document.querySelector(".ng-invalid");if(m){try{m.focus?.()}catch{}if(this.ionContent)try{let r=yield this.ionContent.getScrollElement(),u=m.getBoundingClientRect(),f=r.getBoundingClientRect(),Z=u.top-f.top+r.scrollTop,ee=Math.max(0,Z-200);this.ionContent.scrollToPoint(0,Math.round(ee),300);return}catch{}m.scrollIntoView({behavior:"smooth",block:"center"})}})}hasError(a,m="required"){let r=this.form.get(a);return!!(r&&r.hasError(m)&&(r.touched||this.formSubmitted))}saveAssessment(){if(this.formSubmitted=!0,this.form.markAllAsTouched(),!this.form.valid){this.scrollToFirstInvalid();return}let a={user_id:Number(this.studentId),evaluation_date:this.form.value.evaluationDate?this.formatDate(this.form.value.evaluationDate):this.formatDate(new Date),weight:this.form.value.peso,height:this.form.value.altura,chest:this.form.value.torax,waist:this.form.value.cintura,abdomen:this.form.value.abdome,hip:this.form.value.quadril,arm_left:this.form.value.braco_esq,arm_right:this.form.value.braco_dir,forearm_left:this.form.value.antebraco_esq,forearm_right:this.form.value.antebraco_dir,thigh_left:this.form.value.coxa_esq,thigh_right:this.form.value.coxa_dir,calf_left:this.form.value.panturrilha_esq,calf_right:this.form.value.panturrilha_dir,subscapular:this.form.value.subescapular,triceps:this.form.value.triceps,chest_skinfold:this.form.value.peitoral,mid_axillary:this.form.value.axilar,suprailiac:this.form.value.suprailiaca,abdominal_skinfold:this.form.value.abdominal,femoral:this.form.value.femural,goals:this.form.value.objetivos};this.AssessmentDraftService.setDraft(a),this.navCtrl.navigateBack(["/students/information",this.studentId,"assessment-result"])}formatDate(a){let m=typeof a=="string"?new Date(a):a,r=m.getFullYear(),u=(m.getMonth()+1).toString().padStart(2,"0"),f=m.getDate().toString().padStart(2,"0");return`${r}-${u}-${f}`}};o.\u0275fac=function(m){return new(m||o)(x(G),x(F),x(Y),x(J),x(K))},o.\u0275cmp=N({type:o,selectors:[["app-new-assessment"]],viewQuery:function(m,r){if(m&1&&A(g,5)(te,5,M),m&2){let u;w(u=P())&&(r.ionContent=u.first),w(u=P())&&(r.formEl=u.first)}},standalone:!1,decls:232,vars:25,consts:[["ionContent",""],["formEl",""],[3,"title"],[1,"page-content",3,"fullscreen"],[1,"page-padding"],[1,"section-title-row"],[1,"section-title"],[1,"date-link"],[1,"card",3,"formGroup"],[1,"row","two"],[1,"field"],[1,"erro"],[1,"error"],[1,"input-with-unit"],["type","text","formControlName","peso","placeholder",""],[1,"unit"],["type","text","formControlName","altura","placeholder",""],[1,"group-title"],["type","text","formControlName","torax"],["type","text","formControlName","cintura"],["type","text","formControlName","abdome"],["type","text","formControlName","quadril"],[1,"row","two","inpt-row"],[1,"error",2,"margin-right","-9px"],[1,"field","row-field"],[1,"input-with-unit","whith-one"],["type","text","formControlName","braco_esq"],[1,"small-caption"],["type","text","formControlName","braco_dir"],["type","text","formControlName","antebraco_esq"],["type","text","formControlName","antebraco_dir"],["type","text","formControlName","coxa_esq"],["type","text","formControlName","coxa_dir"],[1,"error",2,"margin-right","-11px"],["type","text","formControlName","panturrilha_esq"],["type","text","formControlName","panturrilha_dir"],["type","text","formControlName","subescapular"],["type","text","formControlName","triceps"],["type","text","formControlName","peitoral"],["type","text","formControlName","axilar"],["type","text","formControlName","suprailiaca"],["type","text","formControlName","abdominal"],[1,"row","one",2,"max-width","159px"],["type","text","formControlName","femural"],[1,"row","one"],["formControlName","objetivos","rows","4","placeholder",""],[1,"action-bar"],[1,"btn","btn-outline",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(m,r){if(m&1){let u=O();l(0,"app-header",2),e(1,"ion-content",3,0)(3,"div",4)(4,"div",5)(5,"h3",6),i(6,"Avalia\xE7\xE3o do aluno"),t(),e(7,"a",7)(8,"span"),i(9),T(10,"date"),t()()(),e(11,"div",8,1)(13,"div",9)(14,"div",10)(15,"div",11)(16,"label"),i(17,"Peso:"),t(),c(18,ie,2,0,"small",12),t(),e(19,"div",13),l(20,"input",14),e(21,"span",15),i(22,"kg"),t()()(),e(23,"div",10)(24,"div",11)(25,"label"),i(26,"Altura:"),t(),c(27,ne,2,0,"small",12),t(),e(28,"div",13),l(29,"input",16),e(30,"span",15),i(31,"cm"),t()()()(),l(32,"hr"),e(33,"h4",17),i(34,"Per\xEDmetros"),t(),e(35,"div",9)(36,"div",10)(37,"div",11)(38,"label"),i(39,"Torax"),t(),c(40,ae,2,0,"small",12),t(),e(41,"div",13),l(42,"input",18),e(43,"span",15),i(44,"cm"),t()()(),e(45,"div",10)(46,"div",11)(47,"label"),i(48,"Cintura"),t(),c(49,re,2,0,"small",12),t(),e(50,"div",13),l(51,"input",19),e(52,"span",15),i(53,"cm"),t()()()(),e(54,"div",9)(55,"div",10)(56,"div",11)(57,"label"),i(58,"Abdome"),t(),c(59,oe,2,0,"small",12),t(),e(60,"div",13),l(61,"input",20),e(62,"span",15),i(63,"cm"),t()()(),e(64,"div",10)(65,"div",11)(66,"label"),i(67,"Quadril"),t(),c(68,le,2,0,"small",12),t(),e(69,"div",13),l(70,"input",21),e(71,"span",15),i(72,"cm"),t()()()(),e(73,"div",22)(74,"div",11)(75,"label"),i(76,"Bra\xE7o"),t(),c(77,me,2,0,"small",23),t(),e(78,"div",24)(79,"div",25),l(80,"input",26),e(81,"span",15),i(82,"cm"),t()(),e(83,"div",27),i(84,"esquerdo"),t()(),e(85,"div",24)(86,"div",25),l(87,"input",28),e(88,"span",15),i(89,"cm"),t()(),e(90,"div",27),i(91,"direito"),t()()(),e(92,"div",22)(93,"div",11)(94,"label"),i(95,"Antebra\xE7o"),t(),c(96,se,2,0,"small",23),t(),e(97,"div",24)(98,"div",25),l(99,"input",29),e(100,"span",15),i(101,"cm"),t()(),e(102,"div",27),i(103,"esquerdo"),t()(),e(104,"div",24)(105,"div",25),l(106,"input",30),e(107,"span",15),i(108,"cm"),t()(),e(109,"div",27),i(110,"direito"),t()()(),e(111,"div",22)(112,"div",11)(113,"label"),i(114,"Coxa"),t(),c(115,de,2,0,"small",23),t(),e(116,"div",24)(117,"div",25),l(118,"input",31),e(119,"span",15),i(120,"cm"),t()(),e(121,"div",27),i(122,"esquerdo"),t()(),e(123,"div",24)(124,"div",25),l(125,"input",32),e(126,"span",15),i(127,"cm"),t()(),e(128,"div",27),i(129,"direito"),t()()(),e(130,"div",22)(131,"div",11)(132,"label"),i(133,"Panturrilha"),t(),c(134,ce,2,0,"small",33),t(),e(135,"div",24)(136,"div",25),l(137,"input",34),e(138,"span",15),i(139,"cm"),t()(),e(140,"div",27),i(141,"esquerdo"),t()(),e(142,"div",24)(143,"div",25),l(144,"input",35),e(145,"span",15),i(146,"cm"),t()(),e(147,"div",27),i(148,"direito"),t()()(),l(149,"hr"),e(150,"h4",17),i(151,"Dobras cut\xE2neas"),t(),e(152,"div",9)(153,"div",10)(154,"div",11)(155,"label"),i(156,"Subescapular"),t(),c(157,pe,2,0,"small",12),t(),e(158,"div",13),l(159,"input",36),e(160,"span",15),i(161,"mm"),t()()(),e(162,"div",10)(163,"div",11)(164,"label"),i(165,"Tr\xEDceps"),t(),c(166,ue,2,0,"small",12),t(),e(167,"div",13),l(168,"input",37),e(169,"span",15),i(170,"mm"),t()()()(),e(171,"div",9)(172,"div",10)(173,"div",11)(174,"label"),i(175,"Peitoral"),t(),c(176,fe,2,0,"small",12),t(),e(177,"div",13),l(178,"input",38),e(179,"span",15),i(180,"mm"),t()()(),e(181,"div",10)(182,"div",11)(183,"label"),i(184,"Axilar m\xE9dia"),t(),c(185,xe,2,0,"small",12),t(),e(186,"div",13),l(187,"input",39),e(188,"span",15),i(189,"mm"),t()()()(),e(190,"div",9)(191,"div",10)(192,"div",11)(193,"label"),i(194,"Supra-il\xEDaca"),t(),c(195,ve,2,0,"small",12),t(),e(196,"div",13),l(197,"input",40),e(198,"span",15),i(199,"mm"),t()()(),e(200,"div",10)(201,"div",11)(202,"label"),i(203,"Abdominal"),t(),c(204,he,2,0,"small",12),t(),e(205,"div",13),l(206,"input",41),e(207,"span",15),i(208,"mm"),t()()()(),e(209,"div",42)(210,"div",10)(211,"div",11)(212,"label"),i(213,"femural m\xE9dio"),t(),c(214,_e,2,0,"small",12),t(),e(215,"div",13),l(216,"input",43),e(217,"span",15),i(218,"mm"),t()()()(),l(219,"hr"),e(220,"div",44)(221,"div",10)(222,"div",11)(223,"label"),i(224,"Objetivos:"),t(),c(225,ge,2,0,"small",12),t(),l(226,"textarea",45),t()()(),e(227,"div",46)(228,"button",47),S("click",function(){return C(u),b(r.cancel())}),i(229,"Cancelar"),t(),e(230,"button",48),S("click",function(){return C(u),b(r.saveAssessment())}),i(231," Ver resultado "),t()()()()}m&2&&(_("title","Nova Avalia\xE7\xE3o"),d(),_("fullscreen",!0),d(8),D("Data: ",k(10,22,r.evaluationDate,"dd/MM/yyyy")),d(2),_("formGroup",r.form),d(7),p(r.hasError("peso")?18:-1),d(9),p(r.hasError("altura")?27:-1),d(13),p(r.hasError("torax")?40:-1),d(9),p(r.hasError("cintura")?49:-1),d(10),p(r.hasError("abdome")?59:-1),d(9),p(r.hasError("quadril")?68:-1),d(9),p(r.hasError("braco_esq")||r.hasError("braco_dir")?77:-1),d(19),p(r.hasError("antebraco_esq")||r.hasError("antebraco_dir")?96:-1),d(19),p(r.hasError("coxa_esq")||r.hasError("coxa_dir")?115:-1),d(19),p(r.hasError("panturrilha_esq")||r.hasError("panturrilha_dir")?134:-1),d(23),p(r.hasError("subescapular")?157:-1),d(9),p(r.hasError("triceps")?166:-1),d(10),p(r.hasError("peitoral")?176:-1),d(9),p(r.hasError("axilar")?185:-1),d(10),p(r.hasError("suprailiaca")?195:-1),d(9),p(r.hasError("abdominal")?204:-1),d(10),p(r.hasError("femural")?214:-1),d(11),p(r.hasError("objetivos")?225:-1))},dependencies:[z,V,R,g,E,Q,B,I],styles:['@charset "UTF-8";.page-content[_ngcontent-%COMP%]{--background: #d9d9d9;font-family:Montserrat,sans-serif!important}.page-padding[_ngcontent-%COMP%]{padding:18px 18px 50px}.section-title-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:0 0 23px;padding:0 16px}.section-title-row[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.section-title-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px;font-style:italic}.section-title[_ngcontent-%COMP%]{margin:0;font-weight:700;color:#1a1a1a}.date-link[_ngcontent-%COMP%]{font-size:14px;color:#1a1a1a;display:flex;gap:6px;align-items:center;text-decoration:underline;cursor:pointer}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:18px;box-shadow:none}.group-title[_ngcontent-%COMP%]{margin:0 0 8px;font-weight:600;color:#1a1a1a}.row[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:12px}.row.two[_ngcontent-%COMP%]{flex-direction:row}.row.one[_ngcontent-%COMP%]{flex-direction:column}@media(max-width:480px){.row[_ngcontent-%COMP%]{flex-direction:column}}.inpt-row[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:row;justify-content:end;position:relative}.inpt-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px!important;position:absolute;left:0}.inpt-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:99px!important;height:40px;padding:0 0 0 27px!important}.field[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px}.field[_ngcontent-%COMP%]   .small-caption[_ngcontent-%COMP%]{font-size:11px;color:#4d6590;margin-top:6px;text-align:center}.field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border-radius:8px;border:1.6px solid #20263f;padding:10px;min-height:72px;resize:none;font-size:14px;background-color:transparent;color:#000}.row-field[_ngcontent-%COMP%]{padding-top:18px;max-width:100px;text-align:end}.row-field[_ngcontent-%COMP%]   div.small-caption[_ngcontent-%COMP%]{max-width:100px;text-align:start;padding-left:16px}.input-with-unit[_ngcontent-%COMP%]{position:relative;width:148px}.input-with-unit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:148px;height:40px;padding:0 0 0 27px;border-radius:10px;border:1.6px solid #20263f;font-size:14px;outline:none;background-color:transparent;color:#000}.input-with-unit[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);font-size:13px;color:#20263f;background:transparent;padding:2px 6px}hr[_ngcontent-%COMP%]{border:none;border-top:1px solid #e6e6e6;margin:14px 0}.action-bar[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center;margin-top:18px;align-items:center}.btn[_ngcontent-%COMP%]{padding:12px 14px;border-radius:10px;font-weight:600;border:none}.btn-outline[_ngcontent-%COMP%]{background:#fff;border:1.6px solid #20263f;color:#00061c;width:120px}.btn-primary[_ngcontent-%COMP%]{background:#07102a;color:#fff;width:180px}label[_ngcontent-%COMP%]{margin-left:16px;color:#00061c!important}.whith-one[_ngcontent-%COMP%]{width:100px!important}.erro[_ngcontent-%COMP%]{margin-bottom:6px;display:flex;height:20px}.erro[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#c62828;font-size:25px;display:block;margin-left:5px}']});let n=o;return n})();var Ee=[{path:"",component:W}],X=(()=>{let o=class o{};o.\u0275fac=function(m){return new(m||o)},o.\u0275mod=h({type:o}),o.\u0275inj=v({imports:[y.forChild(Ee),y]});let n=o;return n})();var He=(()=>{let o=class o{};o.\u0275fac=function(m){return new(m||o)},o.\u0275mod=h({type:o}),o.\u0275inj=v({imports:[j,$,U,X,E,H]});let n=o;return n})();export{He as NewAssessmentPageModule};
